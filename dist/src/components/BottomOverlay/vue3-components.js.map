{"version":3,"file":"vue3-components.js","sources":["../../../../src/components/BottomOverlay/BottomOverlay.vue"],"sourcesContent":["<template>\n    <div class=\"bottom-overlay\" :class=\"[theme, { 'has-close-button': hasCloseButton }]\">\n        <slot></slot>\n        <CloseButton v-if=\"hasCloseButton\"\n            class=\"close-button\"\n            :class=\"{ 'inverse': [BottomOverlayTheme.DARK, BottomOverlayTheme.GREEN].includes(theme as any) }\"\n            @click=\"onClose\"\n        />\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, watch, getCurrentInstance } from 'vue';\nimport CloseButton from '../CloseButton/CloseButton.vue';\n\nexport enum BottomOverlayEvent {\n    CLOSE = 'close',\n}\n\nexport enum BottomOverlayTheme {\n    DARK = 'dark',\n    LIGHT = 'light',\n    GREEN = 'green',\n}\n\nexport default defineComponent({\n    name: 'BottomOverlay',\n    emits: Object.values(BottomOverlayEvent),\n    props: {\n        theme: {\n            type: String,\n            default: BottomOverlayTheme.DARK,\n            validator: (theme: any) => typeof theme === 'string'\n                && Object.values(BottomOverlayTheme).includes(theme as any),\n        }\n    },\n    setup(props, context) {\n        const hasCloseButton = ref(false);\n\n        function onClose() {\n            context.emit(BottomOverlayEvent.CLOSE);\n        }\n\n        async function onListenerChange() {\n            /* This was using `context.attrs.onClose` with vue2 instead of `getCurrentInstance()?.vnode.props?.onClose`,\n            ** but when migrating to vue3 and setting the emits property on the component the onClose attrs stayed empty,\n            ** even though detecting changes to it and triggerring the watcher.\n            **\n            ** Not setting the emits seems to fix the issue, but that is not the recommended way of doing it.\n            ** We thus went with this solution of directly getting the onClose attribute from the vnode instance directly,\n            ** but if we find a better way to do it in the future, it would be preferable over this hacky solution.\n            **\n            ** Previous version: `hasCloseButton.value = !!context.attrs.onClose;`\n            */\n            hasCloseButton.value = !!getCurrentInstance()?.vnode.props?.onClose;\n        }\n\n        watch(() => context.attrs.onClose, onListenerChange, { immediate: true });\n\n        return {\n            hasCloseButton,\n            onClose,\n            BottomOverlayTheme,\n        };\n    },\n    components: {\n        CloseButton,\n    },\n})\n</script>\n\n<style scoped>\n    .bottom-overlay {\n        position: fixed;\n        left: 50%;\n        bottom: 2rem;\n        max-width: 110rem;\n        padding: 1.5rem 2rem 1.75rem 2rem;\n        border-radius: 1.25rem;\n        box-shadow: 0 0 2.5rem rgba(0, 0, 0, 0.111158);\n        font-size: 2rem;\n        line-height: 1.3;\n        transform: translateX(-50%);\n    }\n\n    .dark {\n        background: var(--nimiq-blue);\n        color: white;\n    }\n\n    .light {\n        background: white;\n        color: var(--nimiq-blue);\n    }\n\n    .green {\n        background: var(--nimiq-green);\n        color: white;\n    }\n\n    .has-close-button {\n        padding-right: 6.5rem;\n    }\n\n    .close-button {\n        position: absolute;\n        top: 1.5rem;\n        right: 1.5rem;\n    }\n\n    .green .close-button:deep(.nq-icon) {\n        opacity: 0.4;\n    }\n\n    .green .close-button:hover:deep(.nq-icon),\n    .green .close-button:focus:deep(.nq-icon) {\n        opacity: 0.7;\n    }\n\n    @media (max-width: 912px) {\n        .bottom-overlay {\n            bottom: 1.5rem;\n            width: calc(100% - 3rem);\n        }\n    }\n\n    @media (max-width: 450px) {\n        .bottom-overlay {\n            left: 0;\n            bottom: 0;\n            width: 100%;\n            padding: 2.5rem;\n            border-bottom-left-radius: 0;\n            border-bottom-right-radius: 0;\n            transform: none;\n        }\n\n        .has-close-button {\n            padding-right: 7rem;\n        }\n\n        .close-button {\n            top: 2rem;\n            right: 2rem;\n        }\n    }\n</style>\n"],"names":["_resolveComponent","_normalizeClass","_ctx","_renderSlot","_openBlock","_component_CloseButton"],"mappings":";;;;;;YACIA,EAOM,aAAA;;IANF,OAAaC,EAAA,CAAA,kBAAA,CAAAC,EAAA,OAAA,EAAA,oBAAAA,EAAA,eAAA,CAAA,CAAA,CAAA;AAAA,EAAA,GACM;AAAA,IAAAC,EAAAD,EAAA,QAAnB,WAIE,CAAA,GAAA,QAAA,EAAA;AAAA,IAAAA,EAAA,kBAAAE,OAHQC,GAAc;AAAA,MAEnB,KAAA;AAAA,MAAA,OAAAJ,EAAA,CAAA,gBAAA,EAAA,SAAA,CAAAC,EAAA,mBAAA,MAAAA,EAAA,mBAAA,KAAA,EAAA,SAAAA,EAAA,KAAA,EAAA,CAAA,CAAA;AAAA;;;;;"}
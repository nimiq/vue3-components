{"version":3,"file":"vue3-components.js","sources":["../../../../src/components/Account/Account.vue"],"sourcesContent":["<template>\n    <div class=\"account\" :class=\"[{ editable }, layout, { cashlink: displayAsCashlink }]\">\n        <div class=\"identicon-and-label\">\n            <img v-if=\"showImage\" class=\"identicon account-image\" :src=\"image\" @error=\"showImage = false\">\n            <div v-else-if=\"displayAsCashlink\" class=\"identicon\">\n                <div class=\"nq-blue-bg\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 64 64\" fill=\"none\" stroke=\"white\" stroke-linecap=\"round\" stroke-width=\"2.5\"><path d=\"M40.25 23.25v-.5a6.5 6.5 0 0 0-6.5-6.5h-3.5a6.5 6.5 0 0 0-6.5 6.5v6.5a6.5 6.5 0 0 0 6.5 6.5h2\"/><path d=\"M23.75 40.75v.5a6.5 6.5 0 0 0 6.5 6.5h3.5a6.5 6.5 0 0 0 6.5-6.5v-6.5a6.5 6.5 0 0 0-6.5-6.5h-2\"/><path d=\"M32 11.25v4M32 48.75v4\"/></svg>\n                </div>\n            </div>\n            <Identicon v-else-if=\"isNimiqAddress()\" :address=\"address!\"/>\n\n            <div v-if=\"!editable\" class=\"label\" :class=\"{ 'address-font': isLabelNimiqAddress() }\">{{ label }}</div>\n            <div v-else class=\"label editable\" :class=\"{ 'address-font': isLabelNimiqAddress() }\">\n                <LabelInput ref=\"label$\"\n                    :maxBytes=\"63\"\n                    :value=\"label\"\n                    :placeholder=\"placeholder\"\n                    @update:modelValue=\"onModelValueUpdate\"\n                />\n            </div>\n\n            <div v-if=\"layout === 'column' && walletLabel\" class=\"nq-label wallet-label\">{{ walletLabel }}</div>\n        </div>\n\n        <Amount v-if=\"balance || balance === 0\" class=\"balance\" :amount=\"balance\" :decimals=\"decimals\" />\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, Ref, ref, watch } from 'vue'\nimport Identicon from '../Identicon/Identicon.vue';\nimport Amount from '../Amount/Amount.vue';\nimport LabelInput from '../LabelInput/LabelInput.vue';\nimport { ValidationUtils } from '@nimiq/utils';\n\nexport enum AccountEvent {\n    CHANGED = 'changed',\n}\n\nexport enum AccountLayout {\n    ROW = 'row',\n    COLUMN = 'column',\n}\n\nexport default defineComponent({\n    name: 'Account',\n    emits: Object.values(AccountEvent),\n    props: {\n        label: {\n            type: String,\n            required: true,\n        },\n        displayAsCashlink: {\n            type: Boolean,\n            default: false,\n        },\n        decimals: {\n            type: Number,\n            default: 2,\n        },\n        layout: {\n            type: String,\n            default: AccountLayout.ROW,\n            validator: (layout: any) => Object.values(AccountLayout).includes(layout),\n        },\n        editable: {\n            type: Boolean,\n            default: false,\n        },\n        address: String,\n        image: String,\n        placeholder: String,\n        walletLabel: String,\n        balance: Number,\n    },\n    setup: (props, context) => {\n        const label$ = ref<(typeof LabelInput) | null>(null);\n        const showImage: Ref<boolean> = ref(!!props.image);\n\n        function focus() {\n            if (props.editable && label$.value) {\n                label$.value.focus();\n            }\n        }\n\n        function onModelValueUpdate(label: string) {\n            context.emit(AccountEvent.CHANGED, label);\n        }\n\n        watch(() => props.image, () => {\n            showImage.value = !!props.image;\n        }, { immediate: true });\n\n        function isNimiqAddress() {\n            return props.address ? ValidationUtils.isValidAddress(props.address) : false;\n        }\n\n        function isLabelNimiqAddress() {\n            return ValidationUtils.isValidAddress(props.label);\n        }\n\n        context.expose({ focus });\n\n        return {\n            label$,\n            showImage,\n            isNimiqAddress,\n            isLabelNimiqAddress,\n            onModelValueUpdate,\n        };\n    },\n    components: {\n        Identicon,\n        Amount,\n        LabelInput\n    }\n})\n</script>\n\n<style scoped>\n    .account {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 1.75rem 2rem;\n        box-sizing: border-box;\n        flex-shrink: 0;\n        font-size: 2rem;\n        line-height: 1.2;\n        overflow: hidden; /* hide chevron right on hover*/\n    }\n\n    .account.row {\n        width: 100%;\n        flex-direction: row;\n    }\n\n    .account.column {\n        flex-direction: column;\n    }\n\n    .identicon-and-label {\n        display: flex;\n        align-items: center;\n    }\n\n    .row .identicon-and-label {\n        flex-direction: row;\n        overflow: hidden;\n        min-width: 5.625rem;\n        flex-grow: 1;\n    }\n\n    .column .identicon-and-label {\n        flex-direction: column;\n    }\n\n    .identicon {\n        flex-shrink: 0;\n        position: relative;\n    }\n\n    .row .identicon {\n        width: 5.625rem;\n        height: 5.625rem;\n        margin-right: 1.5rem;\n    }\n\n    .column .identicon {\n        width: 10rem;\n        height: 10rem;\n        margin-bottom: 1.25rem;\n    }\n\n    .cashlink .identicon {\n        padding: .5rem;\n    }\n\n    .cashlink .identicon div {\n        width: 100%;\n        height: 100%;\n        border-radius: 50%;\n    }\n    .cashlink .identicon:before {\n        display: block;\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        border-radius: 50%;\n        border: .25rem solid rgba(31, 35, 72, .2); /* based on nimiq-blue */\n    }\n\n    .account-image {\n        border-radius: 1rem;\n    }\n\n    .wallet-label {\n        margin-bottom: 0;\n    }\n\n    .label,\n    .wallet-label {\n        overflow: hidden;\n    }\n\n    .row .label:not(.editable) {\n        opacity: 0.7;\n        padding-left: 1rem;\n    }\n\n    .row .label,\n    .row .wallet-label {\n        white-space: nowrap;\n        font-weight: 600;\n        mask-image: linear-gradient(90deg , white, white calc(100% - 3rem), rgba(255,255,255, 0));\n    }\n\n    .row .label {\n        flex-grow: 1;\n    }\n\n    .column .label,\n    .column .wallet-label {\n        max-width: 18.5rem; /* 148px, the width the automatic labels are designed for */\n        text-align: center;\n        line-height: 1.5;\n        /* TODO implement multi line ellipsis */\n        max-height: calc(2 * 1em * 1.5); /* #lines * font-size * line-height */\n    }\n\n    .label.address-font {\n        font-family: \"Fira Mono\", \"Andale Mono\", monospace;\n        font-weight: normal;\n        text-transform: uppercase;\n    }\n\n    .balance {\n        flex-shrink: 0;\n    }\n\n    .row .balance {\n        margin-left: 1rem;\n        font-weight: bold;\n        opacity: 0.7;\n    }\n\n    .column .balance {\n        margin-top: 1.5rem;\n    }\n</style>\n"],"names":["_hoisted_3","_hoisted_4","_createStaticVNode","_hoisted_6","_resolveComponent","_normalizeClass","_ctx","_createElementVNode","_hoisted_1","_openBlock","_createElementBlock","_cache","$event","_hoisted_2","_hoisted_5","_createBlock","_component_Identicon","_createCommentVNode","_component_LabelInput","_toDisplayString","_component_Amount"],"mappings":";;;;;yDAI+CA,IAAM;AAAA,EAAA,KAAA;AAAA;GACrCC,IAEMC,gBAAAA,EAAA,+fAAA,CAAA;;GAcqCC,IAAM;AAAA,EAAA,KAAA;AAAA;;;qDApB7DC,EAwBM,QAAA;;IAvBF,OAAAC,EAoBM,YApBN,CAoBM,EAAA,UAAAC,EAAA,SAAA,GAAAA,EAAA,QAAA,EAAA,UAAAA,EAAA,kBAAA,CAAA,CAAA,CAAA;AAAA,EAAA,GAAA;AAAA,IAnBFC,EAAA,OAAAC,GAAA;AAAA,MAAAF,EAAA,aAAAG,KAAqDC,EAAA,OAAA;AAAA,QAAE,KAAK;AAAA,QAAQ,OAAK;AAAA,QAAA,KAAAJ,EAAA;AAAA,QACzD,SAAiBK,EAAA,OAAAA,EAAA,KAAA,CAAAC,MAAAN,EAAA,YAAA;AAAA,MAAA,GAAjC,MAAA,IAAAO,CAAA,KAAAP,EAKsB,qBAAuCG,EAAA,GAAAC,EAAA,OAAAV,GAAAc,CAAA,KAAAR,EAAA,eAAA,KAAAG,EAAJ,GAAAM,EAAAC,GAAA;AAAA,QAAA,KAAA;AAAA;MAE7C,GAAA,MAAQ,GAApB,CAAA,SAAA,CAAA,KAAAC,EAAA,IAAA,EAAA;AAAA,MAAAX,EAAA,YAQMG,EAAA,KAPY,OAAgB;AAAA,QAAA,KAAA;AAAA,QAC9B,OAKEJ,EAAA,CAAA,kBAAA,EAAA,gBAAAC,EAAA,oBAAA,EAAA,CAAA,CAAA;AAAA,MAAA,GAAA;AAAA,UAJaY,GAAE;AAAA,UACZ,KAAK;AAAA,UACL,UAAA;AAAA,UACA,OAAAZ,EAAA;AAAA,UAAA,aAAAA,EAAA;AAAA;QAIE,GAAA,MAAM,4BAAiB,qBAAW,CAAA;AAAA,MAAA,GAAA,CAAA,MAV7CG,EAAA,GAAmCC,EAAA,OAAA;AAAA,QAAA,KAAA;AAAA,iBACnC,CAOM,SAAA,EAAA,gBAAAJ,EAAA,oBAAA,EAAA,CAAA,CAAA;AAAA,MAAA,GAAAa,EAAAb,EAAA,KAAA,GAAA,CAAA;AAAA,MAKIA,EAAA,WAAA,YAAAA,EAAA,eAAAG,EAAA,GAAAC,EAAA,OAAAP,GAAAgB,EAAAb,EAAA,WAAA,GAAA,CAAA,KAAAW,EAAW,IAAO,EAAA;AAAA,IAAA,CAAA;AAAA,sCAAuB,GAAAF,EAAAK,GAAA;AAAA,MAAE,KAAA;AAAA,MAAkB,OAAA;AAAA,MAAA,QAAAd,EAAA;AAAA;;;;;"}
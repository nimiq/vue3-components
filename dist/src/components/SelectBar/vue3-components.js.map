{"version":3,"file":"vue3-components.js","sources":["../../../../src/components/SelectBar/SelectBar.vue"],"sourcesContent":["<template>\n    <div class=\"select-bar\">\n        <div v-for=\"option of sortedOptions\" :key=\"option.value\">\n            <input :value=\"option\" type=\"radio\" :name=\"name\" :id=\"option.value.toString()\" v-model=\"selectedOption\">\n            <label :for=\"option.value.toString()\" class=\"nq-label\" :class=\"getColor(option)\">{{ option.text }}</label>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType, ref, watch } from 'vue';\n\nexport interface SelectBarOption {\n    color: string;\n    value: number;\n    text: string;\n    index: number;\n}\n\nexport enum SelectBarEvent {\n    CHANGED = 'changed',\n}\n\nexport default defineComponent({\n    name: 'SelectBar',\n    emits: Object.values(SelectBarEvent),\n    props: {\n        name: {\n            type: String,\n            required: true,\n        },\n        options: {\n            type: Array as PropType<SelectBarOption[]>,\n            required: true,\n        },\n        selectedValue: Number,\n    },\n    setup(props, context) {\n        const value = computed(() => selectedOption.value?.value);\n        const sortedOptions = computed(() => props.options.sort((a, b) => a.index - b.index));\n\n        const selectedOption = ref(props.selectedValue\n                ? sortedOptions.value.find((val) => val.value === props.selectedValue)!\n                : sortedOptions.value[0]);\n\n        function getColor(option: SelectBarOption) {\n            if (option.index <= selectedOption.value!.index) {\n                return selectedOption.value!.color;\n            } else return 'nq-highlight-bg';\n        }\n\n        watch(selectedOption, onChanged);\n        function onChanged(option: SelectBarOption) {\n            context.emit(SelectBarEvent.CHANGED, option.value);\n        }\n\n        context.expose({ value });\n\n        return {\n            sortedOptions,\n            selectedOption,\n\n            getColor,\n        };\n    },\n})\n</script>\n\n<style scoped>\n    .select-bar {\n        display: flex;\n        border-radius: 3.75rem;\n        overflow: hidden;\n        width: 100%;\n    }\n\n    .select-bar > div {\n        display: flex;\n        flex-grow: 1;\n        flex-basis: 0;\n    }\n\n    .select-bar > div + div {\n        margin-left: .25rem;\n    }\n\n    input {\n        display: none;\n    }\n\n    label {\n        padding: 1.75rem 2rem;\n        margin: 0;\n        width: 100%;\n        text-align: center;\n        cursor: pointer;\n        border-radius: .5rem;\n    }\n\n    .nq-highlight-bg {\n        background: var(--nimiq-highlight-bg);\n    }\n</style>\n"],"names":["_cache","$props","$setup","$data","$options","_hoisted_1","_openBlock","_createElementBlock","_Fragment","_renderList","_ctx","option","_withDirectives","_createElementVNode","$event","_hoisted_2","_vModelRadio","_normalizeClass"],"mappings":";;;;;;cAEQA,GAGMC,GAAAC,GAAAC,GAAAC,GAAA;gBAHN,OAGMC,GAAA;AAAA,KAAAC,EAHqC,EAAO,GAAKC,EAAAC,GAAA,MAAAC,EAAAC,EAAA,eAAA,CAAAC;;;MAChBC,EAAAC,EAAA,SAAA;AAAA,QAAE,OAAMF;AAAA,QAAO,MAAI;AAAA,QAAA,MAAAD,EAAA;AAAA;+BAAkCV,EAAc,OAAAA,EAAA,KAAA,CAAAc,MAAAJ,EAAA,iBAAAI;AAAA,MAAA,GAAA,MAAA,GAAAC,CAAA,GAAA;AAAA,QACtG,CAA0GC,GAAAN,EAAA,cAAA;AAAA,MAAA,CAAA;AAAA,QAA/D,SAAC;AAAA,QAAA,KAAAC,EAAA,MAAwC,SAAO;AAAA,QAAA,OAAAM,EAAA,CAAA,YAAAP,EAAA,SAAAC,CAAA,CAAA,CAAA;AAAA;;;;;"}
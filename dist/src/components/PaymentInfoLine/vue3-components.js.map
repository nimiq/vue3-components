{"version":3,"file":"vue3-components.js","sources":["../../../../src/components/PaymentInfoLine/PaymentInfoLine.vue"],"sourcesContent":["<template>\n    <div class=\"info-line\" :class=\"{ 'inverse-theme': theme === PaymentInfoLineThemes.INVERSE }\">\n        <div class=\"amounts\"\n            @mouseenter=\"priceTooltip$ && priceTooltip$.show()\"\n            @mouseleave=\"priceTooltip$ && priceTooltip$.hide()\"\n            @click=\"priceTooltip$ && Date.now() - lastTooltipToggle > 200 && priceTooltip$.toggle()\"\n        >\n            <Amount\n                :currency=\"cryptoAmount.currency\"\n                :amount=\"cryptoAmount.amount\"\n                :currencyDecimals=\"cryptoAmount.decimals\"\n                :minDecimals=\"0\"\n                :maxDecimals=\"Math.min(4, cryptoAmount.decimals)\"\n            />\n            <Tooltip ref=\"priceTooltip$\"\n                v-if=\"fiatAmount\"\n                :container=\"tooltipContainer\"\n                preferredPosition=\"bottom left\"\n                :margin=\"{ left: 8 }\"\n                :styles=\"{\n                    minWidth: '37rem',\n                    padding: '2rem',\n                    lineHeight: '1.3',\n                }\"\n                :theme=\"theme === PaymentInfoLineThemes.INVERSE ? TooltipThemes.INVERSE : TooltipThemes.NORMAL\"\n                @show=\"onPriceTooltipToggle(true)\"\n                @hide=\"onPriceTooltipToggle(false)\"\n                @click.stop=\"\"\n                class=\"price-tooltip\"\n            >\n                <template #trigger>\n                    <AlertTriangleIcon v-if=\"isBadRate\" />\n                    <FiatAmount :currency=\"fiatAmount.currency\" :amount=\"fiatAmount.amount\" />\n                </template>\n                <template #default>\n                    <div class=\"price-breakdown\">\n                        <label>{{ $t('Order amount') }}</label>\n                        <FiatAmount :currency=\"fiatAmount.currency\" :amount=\"fiatAmount.amount\" />\n                        <template v-if=\"vendorMarkup || vendorMarkup === 0\">\n                            <label v-if=\"vendorMarkup >= 0\">{{ $t('Vendor crypto markup') }}</label>\n                            <label v-else>{{ $t('Vendor crypto discount') }}</label>\n                            <div>{{ formattedVendorMarkup }}</div>\n                        </template>\n                        <label :class=\"{ 'nq-orange': isBadRate }\">\n                            {{ $t('Effective rate') }}\n                        </label>\n                        <div :class=\"{ 'nq-orange': isBadRate }\" v-if=\"effectiveRate\">\n                            <FiatAmount :currency=\"fiatAmount.currency\" :amount=\"effectiveRate\"\n                                :maxRelativeDeviation=\".0001\"\n                            />\n                            / {{ cryptoAmount.currency.toUpperCase() }}\n                        </div>\n                    </div>\n                    <div v-if=\"rateInfo()\"\n                        :class=\"{ 'nq-orange': isBadRate }\"\n                        class=\"rate-info info\"\n                    >\n                        {{ rateInfo() }}\n                    </div>\n                    <div class=\"free-service-info info\">{{ $t('Nimiq provides this service free of charge.') }}</div>\n                    <hr>\n                    <div class=\"total\">\n                        <label>{{ $t('Total') }}</label>\n                        <Amount\n                            :currency=\"cryptoAmount.currency\"\n                            :amount=\"cryptoAmount.amount\"\n                            :currencyDecimals=\"cryptoAmount.decimals\"\n                            :minDecimals=\"0\"\n                            :maxDecimals=\"Math.min(8, cryptoAmount.decimals)\"\n                            showApprox\n                        />\n                    </div>\n                    <div v-if=\"networkFee === undefined || networkFee === null || Number(networkFee) !== 0\"\n                        class=\"network-fee-info info\"\n                    >\n                        +\n                        <I18n v-if=\"!isFormattedNetworkFeeZero\"\n                            path=\"{amount} suggested network fee\"\n                            componentName=\"PaymentInfoLine\">\n                            <template #amount>\n                                <Amount\n                                    v-if=\"networkFee\"\n                                    :currency=\"cryptoAmount.currency\"\n                                    :amount=\"networkFee\"\n                                    :currencyDecimals=\"cryptoAmount.decimals\"\n                                    :minDecimals=\"0\"\n                                    :maxDecimals=\"Math.min(6, cryptoAmount.decimals)\"\n                                />\n                            </template>\n                        </I18n>\n                        <template v-else>{{ $t('network fee') }}</template>\n                    </div>\n                </template>\n            </Tooltip>\n        </div>\n        <div class=\"arrow-runway\">\n            <ArrowRightSmallIcon/>\n        </div>\n        <Account :address=\"address\" :image=\"shopLogoUrl\" :label=\"originDomain\" />\n        <Timer\n            v-if=\"startTime && endTime\"\n            ref=\"timer$\"\n            :startTime=\"startTime\"\n            :endTime=\"endTime\"\n            :theme=\"theme\"\n            :tooltipProps=\"{\n                container: tooltipContainer,\n                margin: { right: 8 },\n            }\"\n        />\n    </div>\n</template>\n\n<script lang=\"ts\">\n// this imports only the type without bundling the library\ntype BigInteger = import('big-integer').BigInteger;\n\nimport { computed, defineComponent, nextTick, onMounted, onUnmounted, PropType, ref, watch } from 'vue';\nimport { FiatApiSupportedFiatCurrency, FiatApiSupportedCryptoCurrency, getExchangeRates } from '@nimiq/utils';\nimport Account from '../Account/Account.vue';\nimport Timer from '../Timer/Timer.vue';\nimport Amount, { amountValidator } from '../Amount/Amount.vue';\nimport FiatAmount from '../FiatAmount/FiatAmount.vue';\nimport Tooltip, { TooltipThemes } from '../Tooltip/Tooltip.vue';\nimport { AlertTriangleIcon, ArrowRightSmallIcon } from '../../icons/Icons';\nimport I18n from '../../i18n/I18n';\nimport { loadI18n } from '../../i18n/I18nComposable';\n\nfunction cryptoAmountInfoValidator(value: any) {\n    return 'amount' in value && 'currency' in value && 'decimals' in value\n        && amountValidator(value.amount)\n        && typeof value.currency === 'string'\n        && typeof value.decimals === 'number' && Number.isInteger(value.decimals);\n}\n\nfunction fiatAmountInfoValidator(value: any) {\n    return 'amount' in value && 'currency' in value\n        && typeof value.amount === 'number'\n        && typeof value.currency === 'string';\n}\n\nconst PAYMENT_INFO_LINE_REFERENCE_RATE_UPDATE_INTERVAL = 60000; // every minute\nconst PAYMENT_INFO_LINE_RATE_DEVIATION_THRESHOLD = .1;\n\nexport enum PaymentInfoLineThemes {\n    NORMAL = 'normal',\n    INVERSE = 'inverse',\n}\n\nexport default defineComponent({\n    name: 'PaymentInfoLine',\n    props: {\n        cryptoAmount: {\n            type: Object as PropType<{ amount: number, currency: string, decimals: number }>,\n            required: true,\n            validator: cryptoAmountInfoValidator,\n        },\n        fiatAmount: {\n            type: Object as PropType<{ amount: number, currency: string }>,\n            validator: fiatAmountInfoValidator,\n        },\n        // Note that vendorMarkup and networkFee have no effect if fiatAmount is not set, as the tooltip in which they\n        // appear is only visible when fiatAmount is set. As the fiatAmount was only introduced in the v2 checkout request\n        // in the Hub, the tooltip and vendorMarkup and networkFee are thus never visible for v1 checkout requests. This\n        // should be ok though as the vendorMarkup also only exists in v2 and the free-service-info doesn't make too much\n        // sense for nimiq.shop or the nimiq voting app which are currently the main apps using the v1 checkout.\n        vendorMarkup: {\n            type: Number,\n            validator: (value: any) => value > -1\n        },\n        networkFee: {\n            type: Number as () => number | bigint | BigInteger,\n            validator: amountValidator,\n        },\n        origin: {\n            type: String,\n            required: true,\n        },\n        address: String,\n        shopLogoUrl: String,\n        startTime: Number,\n        endTime: Number,\n        theme: {\n            type: String as PropType<PaymentInfoLineThemes>,\n            validator: (value: any) => Object.values(PaymentInfoLineThemes).includes(value),\n            default: 'normal',\n        },\n        tooltipContainer: HTMLElement,\n    },\n    methods: { $t: loadI18n('PaymentInfoLine') },\n    setup(props, context) {\n        const timer$ = ref<typeof Timer | null>(null);\n        const priceTooltip$ = ref<typeof Tooltip | null>(null);\n\n        const referenceRate = ref<number | null>(null);\n        const referenceRateUpdateTimeout = ref(-1);\n        const lastTooltipToggle = ref(-1);\n\n        onMounted(() => updateReferenceRate());\n        onUnmounted(() => window.clearTimeout(referenceRateUpdateTimeout.value));\n\n        async function setTime(time: number) {\n            await nextTick(); // let vue update in case the timer was just added\n            if (!timer$.value) return;\n            timer$.value.synchronize(time);\n        }\n\n        context.expose({ setTime });\n\n        const originDomain = computed(() => {\n            return props.origin.split('://')[1];\n        });\n\n        const effectiveRate = computed(() => {\n            if (!props.fiatAmount) return null;\n            // Fiat/crypto rate. Higher fiat/crypto rate means user is paying less crypto for the requested fiat amount\n            // and is therefore better for the user. Note: precision loss should be acceptable here.\n            return props.fiatAmount.amount / (Number(props.cryptoAmount.amount) / (10 ** props.cryptoAmount.decimals));\n        });\n\n        const formattedVendorMarkup = computed(() => {\n            if (typeof props.vendorMarkup !== 'number') return null;\n            // Convert to percent and round to two decimals. Always ceil to avoid displaying a lower fee than charged or\n            // larger discount than applied. Subtract a small epsilon to avoid that numbers get rounded up as a result of\n            // floating point imprecision after multiplication. Otherwise formatting for example .07 would result in 7.01%.\n            return `${props.vendorMarkup >= 0 ? '+' : ''}${Math.ceil(props.vendorMarkup * 100 * 100 - 1e-10) / 100}%`;\n        });\n\n        const isFormattedNetworkFeeZero = computed(() => {\n            if (props.networkFee === null || props.networkFee === undefined) return true;\n            // Note: While we use the Amount component which does formatting itself, we manually format here to check\n            // whether the formatted value is 0. Precision loss should be acceptable here.\n            const networkFeeBaseCurrency = Number(props.networkFee) / (10 ** props.cryptoAmount.decimals);\n            // Round to maxDecimals used above in the template\n            const maxDecimals = Math.min(6, props.cryptoAmount.decimals);\n            const roundingFactor = 10 ** maxDecimals;\n            return Math.round(networkFeeBaseCurrency * roundingFactor) / roundingFactor === 0;\n        });\n\n        const rateDeviation = computed(() => {\n            // Compare rates. Convert them from fiat/crypto to crypto/fiat as the user will be paying crypto in the end and\n            // the flipped rates can therefore be compared more intuitively. Negative rate deviation is better for the user.\n            if (effectiveRate.value === null || referenceRate.value === null) return null;\n            const flippedEffectiveRate = 1 / effectiveRate.value;\n            const flippedReferenceRate = 1 / referenceRate.value;\n            return (flippedEffectiveRate - flippedReferenceRate) / flippedReferenceRate;\n        });\n\n        const isBadRate = computed(() => {\n            if (rateDeviation.value === null) return false;\n            return rateDeviation.value >= PAYMENT_INFO_LINE_RATE_DEVIATION_THRESHOLD\n                || (props.vendorMarkup\n                    && props.vendorMarkup < 0 // verify promised discount\n                    && rateDeviation.value >= props.vendorMarkup + PAYMENT_INFO_LINE_RATE_DEVIATION_THRESHOLD\n                );\n        });\n\n        const formattedRateDeviation = computed(() => {\n            if (rateDeviation.value === null) return null;\n            // Converted to absolute percent, rounded to one decimal\n            return `${Math.round(Math.abs(rateDeviation.value) * 100 * 10) / 10}%`;\n        });\n\n        function rateInfo() {\n            const $t = loadI18n('PaymentInfoLine');\n\n            // Note: this method is not a getter / computed property to update on language changes\n            if (rateDeviation.value === null || formattedRateDeviation.value === null\n                || (Math.abs(rateDeviation.value) < PAYMENT_INFO_LINE_RATE_DEVIATION_THRESHOLD && !isBadRate.value)) {\n                return null;\n            }\n\n            if (rateDeviation.value < 0 && isBadRate.value) {\n                // False discount\n                return $t(\n                    'Your actual discount is approx. {formattedRateDeviation} compared '\n                    + 'to the current market rate (coingecko.com).',\n                    { formattedRateDeviation: formattedRateDeviation.value },\n                );\n            }\n\n            if (rateDeviation.value > 0) {\n                return $t(\n                    'You are paying approx. {formattedRateDeviation} more '\n                    + 'than at the current market rate (coingecko.com).',\n                    { formattedRateDeviation: formattedRateDeviation.value },\n                );\n            } else {\n                return $t(\n                    'You are paying approx. {formattedRateDeviation} less '\n                    + 'than at the current market rate (coingecko.com).',\n                    { formattedRateDeviation: formattedRateDeviation.value },\n                );\n            }\n        }\n\n        watch(() => props.cryptoAmount.currency, updateReferenceRate);\n        watch(() => props.fiatAmount && props.fiatAmount.currency, updateReferenceRate);\n        async function updateReferenceRate() {\n            window.clearTimeout(referenceRateUpdateTimeout.value);\n            const cryptoCurrency = props.cryptoAmount.currency.toLowerCase() as FiatApiSupportedCryptoCurrency;\n            const fiatCurrency = props.fiatAmount\n                ? props.fiatAmount.currency.toLowerCase() as FiatApiSupportedFiatCurrency\n                : null;\n\n            if (!props.fiatAmount || !fiatCurrency\n                || !Object.values(FiatApiSupportedFiatCurrency).includes(fiatCurrency)\n                || !Object.values(FiatApiSupportedCryptoCurrency).includes(cryptoCurrency)\n            ) {\n                referenceRate.value = null;\n                return;\n            } else {\n                const { [cryptoCurrency]: { [fiatCurrency]: newReferenceRate }} = await getExchangeRates([cryptoCurrency], [fiatCurrency]);\n                referenceRate.value = newReferenceRate || null;\n            }\n\n            referenceRateUpdateTimeout.value = window.setTimeout(\n                () => updateReferenceRate(),\n                PAYMENT_INFO_LINE_REFERENCE_RATE_UPDATE_INTERVAL,\n            );\n        }\n\n        function onPriceTooltipToggle(isShow: boolean) {\n            lastTooltipToggle.value = Date.now(); // record last toggle to avoid second toggle on click just after mouseover\n            if (!isShow) return;\n            updateReferenceRate();\n        }\n\n        return {\n            PaymentInfoLineThemes,\n            TooltipThemes,\n\n            timer$,\n            priceTooltip$,\n\n            lastTooltipToggle,\n\n            originDomain,\n            effectiveRate,\n            formattedVendorMarkup,\n            isFormattedNetworkFeeZero,\n            isBadRate,\n\n            rateInfo,\n            onPriceTooltipToggle,\n        };\n    },\n    components: {\n        Account,\n        Timer,\n        Amount,\n        FiatAmount,\n        Tooltip,\n        AlertTriangleIcon,\n        ArrowRightSmallIcon,\n        I18n,\n    },\n})\n</script>\n\n<style scoped>\n    .info-line {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        box-sizing: border-box;\n        margin: 1.75rem 2.5rem 1rem 2.375rem;\n        flex-shrink: 0;\n        font-size: 2rem;\n        line-height: 1.5;\n        font-weight: normal;\n    }\n\n    .amounts {\n        display: flex;\n        flex-direction: column;\n        margin-bottom: .125rem;\n        cursor: default;\n    }\n\n    .amounts > .amount {\n        color: var(--nimiq-light-blue);\n        font-weight: bold;\n    }\n\n    .inverse-theme .amounts > .amount {\n        color: var(--nimiq-light-blue-on-dark, var(--nimiq-light-blue));\n    }\n\n    .amounts .trigger .nq-icon {\n        font-size: 1.625rem;\n        color: var(--nimiq-orange);\n        vertical-align: middle;\n    }\n\n    .amounts .trigger .fiat-amount {\n        margin-top: .25rem;\n        color: var(--nimiq-blue);\n        font-size: 1.625rem;\n        line-height: 1;\n        font-weight: 600;\n        opacity: .6;\n    }\n\n    .price-tooltip label {\n        font-weight: normal;\n    }\n\n    .price-tooltip .price-breakdown {\n        display: grid;\n        grid-template-columns: 1fr auto;\n        column-gap: 2rem;\n        row-gap: 1.5rem;\n        white-space: nowrap;\n    }\n\n    .price-tooltip .price-breakdown label + * {\n        justify-self: end;\n    }\n\n    .price-tooltip .info {\n        font-size: 1.625rem;\n        opacity: .5;\n    }\n\n    .price-tooltip .rate-info {\n        margin-top: .5rem;\n    }\n\n    .price-tooltip .rate-info.nq-orange {\n        opacity: 1;\n    }\n\n    .price-tooltip .free-service-info {\n        margin-top: 1.5rem;\n        color: var(--nimiq-green);\n        opacity: 1;\n    }\n\n    .price-tooltip hr {\n        margin: 2rem -1rem 1.5rem;\n        border: unset;\n        border-top: 1px solid currentColor;\n        opacity: .2;\n    }\n\n    .price-tooltip .total {\n        /* The total row is on purpose not part of the grid as the label is shorter and the value longer */\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .price-tooltip .total .amount {\n        font-weight: bold;\n    }\n\n    .price-tooltip .network-fee-info {\n        margin-top: .5rem;\n        margin-bottom: -.25rem;\n        text-align: right;\n        white-space: nowrap;\n    }\n\n    .arrow-runway {\n        flex-grow: 1;\n        min-width: 3rem;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n    }\n\n    .arrow-runway .nq-icon {\n        opacity: 0;\n        font-size: 2rem;\n        animation: arrow-shooting 2.7s cubic-bezier(.2,.5,.75,.5) infinite;\n    }\n\n    @keyframes arrow-shooting {\n        0%   { transform: translate3D(-3.5rem, 0, 0); }\n        15%  { transform: translate3D(-3.5rem, 0, 0); opacity: 0; }\n        30%  { opacity: .2; }\n        70%  { opacity: .2; }\n        85%  { transform: translate3D(3rem, 0, 0); opacity: 0; }\n        100% { transform: translate3D(3rem, 0, 0); }\n    }\n\n    .account {\n        padding: 0;\n        width: auto !important;\n        flex-shrink: 1;\n    }\n\n    .account:deep(.identicon) {\n        min-width: unset;\n        width: 3.375rem;\n        height: 3.375rem;\n        margin-right: 0;\n    }\n\n    .account:deep(.account-image) {\n        border-radius: .5rem;\n        width: 3rem;\n        height: 3rem;\n        margin-top: 0;\n        margin-bottom: 0;\n    }\n\n    .account:deep(.label) {\n        padding-left: .75rem;\n        margin-bottom: .25rem;\n        font-weight: unset;\n        opacity: 1 !important;\n        /* Remove gradient-fade-out and use text-overflow instead */\n        mask-image: unset;\n        white-space: nowrap;\n        text-overflow: fade;\n    }\n\n    .timer {\n        margin: auto -.5rem auto 1rem;\n        flex-shrink: 0;\n    }\n\n    .inverse-theme .amounts .trigger .fiat-amount,\n    .inverse-theme .arrow-runway .nq-icon,\n    .inverse-theme .account:deep(.label) {\n        color: white;\n    }\n</style>\n"],"names":["_hoisted_2","_hoisted_4","_hoisted_7","_resolveComponent","_normalizeClass","_ctx","_createElementVNode","_cache","$event","_component_Amount","_openBlock","_createBlock","_component_Tooltip","_withModifiers","_withCtx","_component_AlertTriangleIcon","_createCommentVNode","_createVNode","_component_FiatAmount","_hoisted_1","_toDisplayString","_Fragment","_createElementBlock","_hoisted_3","_hoisted_5","_hoisted_6","_createTextVNode","_component_I18n","_hoisted_8","_component_ArrowRightSmallIcon","_component_Account","_component_Timer"],"mappings":"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"}
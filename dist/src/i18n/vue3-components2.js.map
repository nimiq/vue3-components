{"version":3,"file":"vue3-components2.js","sources":["../../../src/i18n/I18n.ts"],"sourcesContent":["import { defineComponent, getCurrentInstance, h } from 'vue';\nimport { loadI18n, I18n$tVariables } from './I18nComposable';\n\n/**\n * Component for slot interpolation, similar to vue-i18n's interpolation component,\n * see https://kazupon.github.io/vue-i18n/guide/interpolation.html#slots-syntax-usage\n */\n\nexport default defineComponent({\n    name: 'I18n',\n    props: {\n        path: {\n            type: String,\n            required: true,\n        },\n        componentName: {\n            type: String,\n            required: true,\n        },\n        tag: {\n            type: String,\n            default: 'span',\n        },\n    },\n    render() {\n        if (!Object.keys(this.$slots).length) {\n            throw new Error(\n                'I18n: the component must contain at least 1 template slot, otherwise simply use the $t function.',\n            );\n        }\n\n        const message = loadI18n(this.$props.componentName)(this.$props.path.replace(/\\\\n/g, '\\n'));\n        const children = message.split(/({\\w+})/g)\n            .map((part) => {\n                const variableNameMatch = part.match(/^{(\\w+)}$/);\n                if (!variableNameMatch) return part; // plain text part or empty part\n                return this.$slots[variableNameMatch[1]]!() || part;\n            });\n\n        return h(this.$props.tag, {}, children);\n    }\n});\n"],"names":["I18n","defineComponent","children","loadI18n","part","variableNameMatch","h"],"mappings":";;AAQA,MAAAA,IAAeC,EAAgB;AAAA,EAC3B,MAAM;AAAA,EACN,OAAO;AAAA,IACH,MAAM;AAAA,MACF,MAAM;AAAA,MACN,UAAU;AAAA,IACd;AAAA,IACA,eAAe;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,IACd;AAAA,IACA,KAAK;AAAA,MACD,MAAM;AAAA,MACN,SAAS;AAAA,IACb;AAAA,EACJ;AAAA,EACA,SAAS;AACL,QAAI,CAAC,OAAO,KAAK,KAAK,MAAM,EAAE;AAC1B,YAAM,IAAI;AAAA,QACN;AAAA,MAAA;AAKR,UAAMC,IADUC,EAAS,KAAK,OAAO,aAAa,EAAE,KAAK,OAAO,KAAK,QAAQ,QAAQ;AAAA,CAAI,CAAC,EACjE,MAAM,UAAU,EACpC,IAAI,CAACC,MAAS;AACL,YAAAC,IAAoBD,EAAK,MAAM,WAAW;AAChD,aAAKC,KACE,KAAK,OAAOA,EAAkB,IAAU,KAAAD;AAAA,IAAA,CAClD;AAEL,WAAOE,EAAE,KAAK,OAAO,KAAK,CAAA,GAAIJ,CAAQ;AAAA,EAC1C;AACJ,CAAC;"}